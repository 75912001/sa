# 基本要求
    阅读 README.md
    深度思考
    分析背景
    明确问题
    评审当前想法
    查阅可参考资料
    完成任务
    给出详细的解决方案.
    注重逻辑清晰和步骤明确.
    不要直接给出代码实现, 而是给出如何实现的思路.
    注重性能和可维护性.
    如若有更好的方``案, 请一并给出.并给出理由和对比.
    可以完全访问当前项目的代码和资源.
# 背景
        翻滚动画,在游戏中,翻滚是一个常见的动作,通常用于躲避敌人的攻击或快速移动.在翻滚过程中,角色会执行一个预定义的动画,并且通常会有一定的无敌时间.
        wasd, 作为角色的移动控制键. 在移动过程开始时, 翻滚方向应与当前移动方向一致.
# 问题
      
# 当前想法
      翻滚开始时,如果有方向,角色会朝该方向翻滚.
      没有方向时,角色会朝当前朝向翻滚.
      在翻滚过程中,不能控制翻滚方向.
# 可参考资料
      D:\sa\Scripts\System\LockMgr.gd 阻止锁
      D:\sa\Scripts\Animation\MovementMgr.gd
      D:\sa\Scripts\Animation\RollMgr.gd
      D:\sa\Cfg\character.yaml 翻滚相关配置-距离,时间等

# 任务
    在任务没有完全完成之前, 不要停止回答. 持续思考, 找到最佳方案. 在提问和回答中不断完善方案.
    非常详细的一步步指引我完成.
    给出方案. 将解决方案分步骤列出.写入 plan.md 下方的 "# 解决方案" 处.
# 解决方案

