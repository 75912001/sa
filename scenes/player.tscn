[gd_scene load_steps=30 format=3 uid="uid://cltl4miymivys"]

[ext_resource type="PackedScene" uid="uid://bqpd5cm5dcy71" path="res://Assets/Characters/XBot.glb" id="1_mdl7e"]
[ext_resource type="Script" uid="uid://btgkhykbev6d6" path="res://Scripts/Player.gd" id="1_script"]
[ext_resource type="Script" uid="uid://bkp6agvjjm47t" path="res://Scripts/Weapon/WeaponMgr.gd" id="2_52ee3"]
[ext_resource type="Script" uid="uid://ruoxwj2thpuw" path="res://Scripts/MovementMgr.gd" id="2_megsn"]
[ext_resource type="Animation" uid="uid://cmym1cbyn4tg5" path="res://Assets/Animations/Library/Unarmed/Idle.res" id="2_qu4a1"]
[ext_resource type="Animation" uid="uid://biyh1eubhiecd" path="res://Assets/Animations/Library/Unarmed/Jump.res" id="3_70d11"]
[ext_resource type="Script" uid="uid://hxg50be1t0o6" path="res://Scripts/Animation.gd" id="3_bhhdu"]
[ext_resource type="Animation" uid="uid://dygqhwo1805bn" path="res://Assets/Animations/Library/SwordAndShield/Idle.res" id="3_nn08x"]
[ext_resource type="Animation" uid="uid://e3vujykiovi8" path="res://Assets/Animations/Library/Unarmed/Walking.res" id="4_cw2d6"]
[ext_resource type="Script" uid="uid://bhuu0dvqbcotn" path="res://Scripts/JumpMgr.gd" id="4_yoq75"]
[ext_resource type="Animation" uid="uid://ywb7kg2bg88c" path="res://Assets/Animations/Library/SwordAndShield/Walk.res" id="8_ksbbd"]
[ext_resource type="Animation" uid="uid://bm2d4g8pfoe07" path="res://Assets/Animations/Library/SwordAndShield/DrawSword.res" id="9_miouo"]
[ext_resource type="Animation" uid="uid://bunidks85e2gh" path="res://Assets/Animations/Library/SwordAndShield/SheathSword.1.res" id="10_1e7my"]
[ext_resource type="Animation" uid="uid://d1k068ctm2hp6" path="res://Assets/Animations/Library/SwordAndShield/SheathSword.2.res" id="11_arntx"]
[ext_resource type="Animation" uid="uid://o4xndrx00au6" path="res://Assets/Animations/Library/Unarmed/DrawSword.res" id="13_o3h8g"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_mdl7e"]
radius = 0.4
height = 1.6

[sub_resource type="AnimationLibrary" id="AnimationLibrary_qu4a1"]

[sub_resource type="AnimationLibrary" id="AnimationLibrary_5ixxa"]
_data = {
&"DrawSword": ExtResource("9_miouo"),
&"Idle": ExtResource("3_nn08x"),
&"SheathSword.1": ExtResource("10_1e7my"),
&"SheathSword.2": ExtResource("11_arntx"),
&"Walk": ExtResource("8_ksbbd")
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_nn08x"]
_data = {
&"DrawSword": ExtResource("13_o3h8g"),
&"Idle": ExtResource("2_qu4a1"),
&"Jump": ExtResource("3_70d11"),
&"Walking": ExtResource("4_cw2d6")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lslt6"]
animation = &"SwordAndShield/DrawSword"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ksbbd"]
animation = &"SwordAndShield/Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1iu4k"]
animation = &"SwordAndShield/SheathSword.1"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_m0x7a"]
animation = &"SwordAndShield/SheathSword.2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_miouo"]
animation = &"SwordAndShield/Walk"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ulo2v"]
animation = &"Unarmed/DrawSword"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_o3h8g"]
animation = &"Unarmed/Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1e7my"]
animation = &"Unarmed/Jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_arntx"]
animation = &"Unarmed/Walking"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_lslt6"]
states/End/position = Vector2(1309, 48)
states/Start/position = Vector2(109, 63)
states/SwordAndShield_DrawSword/node = SubResource("AnimationNodeAnimation_lslt6")
states/SwordAndShield_DrawSword/position = Vector2(826, 342)
states/SwordAndShield_Idle/node = SubResource("AnimationNodeAnimation_ksbbd")
states/SwordAndShield_Idle/position = Vector2(826, 80)
states/SwordAndShield_SheathSword_1/node = SubResource("AnimationNodeAnimation_1iu4k")
states/SwordAndShield_SheathSword_1/position = Vector2(826, 504)
states/SwordAndShield_SheathSword_2/node = SubResource("AnimationNodeAnimation_m0x7a")
states/SwordAndShield_SheathSword_2/position = Vector2(1193, 504)
states/SwordAndShield_Walk/node = SubResource("AnimationNodeAnimation_miouo")
states/SwordAndShield_Walk/position = Vector2(1186, 332)
states/Unarmed_DrawSword/node = SubResource("AnimationNodeAnimation_ulo2v")
states/Unarmed_DrawSword/position = Vector2(283, 342)
states/Unarmed_Idle/node = SubResource("AnimationNodeAnimation_o3h8g")
states/Unarmed_Idle/position = Vector2(283, 80)
states/Unarmed_Jump/node = SubResource("AnimationNodeAnimation_1e7my")
states/Unarmed_Jump/position = Vector2(156, 169)
states/Unarmed_Walking/node = SubResource("AnimationNodeAnimation_arntx")
states/Unarmed_Walking/position = Vector2(384, 169)
graph_offset = Vector2(-215.45851, -104)

[node name="Player" type="CharacterBody3D" groups=["Player"]]
script = ExtResource("1_script")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8, 0)
shape = SubResource("CapsuleShape3D_mdl7e")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]

[node name="AnimationMgr" type="Node" parent="."]
script = ExtResource("3_bhhdu")
animation_tree_path = NodePath("../AnimationTree")

[node name="MovementMgr" type="Node" parent="."]
script = ExtResource("2_megsn")

[node name="JumpMgr" type="Node" parent="."]
script = ExtResource("4_yoq75")

[node name="WeaponMgr" type="Node" parent="."]
script = ExtResource("2_52ee3")
weapon_attachment_path = NodePath("../XBot/Skeleton/GeneralSkeleton/RightHandAttachment")

[node name="XBot" parent="." instance=ExtResource("1_mdl7e")]

[node name="GeneralSkeleton" parent="XBot/Skeleton" index="0"]
bones/0/position = Vector3(-0.008445681, 0.88121927, 0.007061947)
bones/0/rotation = Quaternion(0.07519669, -0.45596316, 0.028461846, 0.8863595)
bones/1/rotation = Quaternion(0.06366038, 0.032850243, -0.023378855, 0.9971568)
bones/2/rotation = Quaternion(0.01080066, 0.0121612605, 0.020429973, 0.99965906)
bones/3/rotation = Quaternion(0.0019301996, 0.011235815, 0.009227567, 0.9998925)
bones/4/rotation = Quaternion(-0.017270476, 0.08508449, -0.015028277, 0.99611074)
bones/5/rotation = Quaternion(-0.040575262, 0.20344011, -0.049198084, 0.97700834)
bones/7/rotation = Quaternion(0.62575567, -0.42505231, -0.3923388, -0.52328825)
bones/8/rotation = Quaternion(-0.0062806616, 0.8987938, -0.43708232, 0.03300785)
bones/9/rotation = Quaternion(0.44997665, 0.5799016, -0.40567645, 0.54466677)
bones/10/rotation = Quaternion(0.22869807, -0.6831839, -0.110767, 0.6846076)
bones/11/rotation = Quaternion(0.13126117, -0.7408872, -0.22269596, 0.6198897)
bones/12/rotation = Quaternion(-0.0832294, -0.14080164, 0.08408808, 0.9829431)
bones/13/rotation = Quaternion(0.17847984, 0.050124537, 0.1362589, 0.97317326)
bones/14/scale = Vector3(1.0005782, 1.0004865, 1.0001515)
bones/15/rotation = Quaternion(0.5105603, 0.0140029695, 0.022394715, 0.8594362)
bones/16/rotation = Quaternion(0.54868793, -0.02110201, -0.03201681, 0.83514744)
bones/17/rotation = Quaternion(0.49576056, -0.012686175, 0.011556742, 0.8682897)
bones/19/rotation = Quaternion(0.5611581, 0.009488932, -0.0050927396, 0.8276386)
bones/20/rotation = Quaternion(0.6717415, -0.028281376, -0.032104164, 0.73954916)
bones/21/rotation = Quaternion(0.28147247, -0.0044167484, 0.013432978, 0.95946515)
bones/23/rotation = Quaternion(0.6365987, 0.019772192, 0.03598156, 0.77010155)
bones/24/rotation = Quaternion(0.59652495, -0.00084514904, -0.011777816, 0.8025077)
bones/25/rotation = Quaternion(0.33498144, 0.004041716, 0.009664058, 0.94216657)
bones/27/rotation = Quaternion(0.6864339, 0.024451092, -0.024312194, 0.7263744)
bones/28/rotation = Quaternion(0.4572153, -3.501772e-07, -0.0005376934, 0.88935584)
bones/29/rotation = Quaternion(0.22350384, 2.9802319e-08, -0.00025418398, 0.9747031)
bones/31/rotation = Quaternion(0.48006576, 0.53330165, 0.5492527, -0.42830807)
bones/32/rotation = Quaternion(0.13568953, 0.91117245, -0.3887619, -0.014747173)
bones/33/rotation = Quaternion(0.6228898, -0.6114771, 0.36598146, 0.32274085)
bones/34/rotation = Quaternion(0.02244748, 0.7070488, -0.017804237, 0.7065841)
bones/35/rotation = Quaternion(-0.11995767, 0.66890085, 0.30772567, 0.66594803)
bones/36/rotation = Quaternion(0.098551005, 0.170051, 0.008988741, 0.9804538)
bones/37/rotation = Quaternion(-0.08086144, 0.421037, 0.30527082, 0.85029364)
bones/38/scale = Vector3(1.0005782, 1.0004864, 1.0001515)
bones/39/rotation = Quaternion(0.64771503, 0.020553987, 0.07223421, 0.7581722)
bones/40/rotation = Quaternion(0.55486745, 0.021296926, 0.03181666, 0.83105737)
bones/41/rotation = Quaternion(0.57044685, 0.009793252, -0.014223784, 0.8211529)
bones/43/rotation = Quaternion(0.68593997, -0.049264945, 0.017453521, 0.72577876)
bones/44/rotation = Quaternion(0.6192293, 0.026046485, 0.033852816, 0.7840476)
bones/45/rotation = Quaternion(0.55360204, 0.008426718, -0.011292815, 0.8326622)
bones/47/rotation = Quaternion(0.70963186, -0.051711276, 0.003728658, 0.70266265)
bones/48/rotation = Quaternion(0.51727974, -0.005159937, 0.010024637, 0.8557421)
bones/49/rotation = Quaternion(0.5913269, -0.006827373, -0.007840276, 0.80636495)
bones/51/rotation = Quaternion(0.68070805, -0.10531266, -0.00013816357, 0.72494537)
bones/52/rotation = Quaternion(0.6025507, 4.7318637e-05, 0.00070506334, 0.7980804)
bones/53/rotation = Quaternion(0.41110688, 4.3377277e-05, 0.0003958344, 0.911587)
bones/55/rotation = Quaternion(-0.24466705, 0.24040683, 0.9105409, 0.23077704)
bones/56/rotation = Quaternion(0.04902793, 0.93470585, -0.3520029, 0.0039120237)
bones/57/rotation = Quaternion(0.17311029, 0.6089517, -0.75039494, -0.1900476)
bones/58/rotation = Quaternion(-0.0053211357, 0.9998762, 0.011998951, 0.008680255)
bones/60/rotation = Quaternion(0.3681144, 0.43076482, 0.8043808, -0.17861967)
bones/61/rotation = Quaternion(0.012865913, 0.921094, -0.36712277, -0.1290008)
bones/62/rotation = Quaternion(-0.056640074, 0.7258277, -0.68270695, 0.062268734)
bones/63/rotation = Quaternion(0.031955402, 0.99855673, 0.023179414, -0.036417004)

[node name="RightHandAttachment" type="BoneAttachment3D" parent="XBot/Skeleton/GeneralSkeleton" index="2"]
transform = Transform3D(0.21000127, -0.76983184, 0.60270935, 0.87085956, -0.13292602, -0.47321704, 0.4444132, 0.6242513, 0.6425009, -0.36864418, 0.9397675, -0.20083892)
bone_name = "RightHand"
bone_idx = 10

[node name="AnimationPlayer" parent="XBot" index="1"]
libraries = {
&"": SubResource("AnimationLibrary_qu4a1"),
&"SwordAndShield": SubResource("AnimationLibrary_5ixxa"),
&"Unarmed": SubResource("AnimationLibrary_nn08x")
}

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../XBot")
tree_root = SubResource("AnimationNodeStateMachine_lslt6")
anim_player = NodePath("../XBot/AnimationPlayer")

[editable path="XBot"]
