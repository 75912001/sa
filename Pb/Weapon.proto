syntax="proto3";

package pb;

option go_package = "saClient/proto";

import "Common.proto";
import "Record.proto";

////////////////////////////////////////////////////////////
// 武器 Weapon
////////////////////////////////////////////////////////////
// 武器-类型
enum WeaponType {
  WeaponType_Unarmed = 0; // 赤手空拳
  WeaponType_ShortSword = 1; // 短剑
  WeaponType_Sword = 2; // 剑
  WeaponType_GreatSword = 3; // 大剑
  WeaponType_ColossalSword = 4; // 特大剑
//  WeaponType_Axe = 1; // 斧
//  WeaponType_Stick = 2; // 棍
//  WeaponType_Spear = 3; // 枪
//  WeaponType_Claw = 4; // 爪
//  WeaponType_Bow = 5; // 弓
//  WeaponType_Stone = 6; // 石头
//  WeaponType_Boomerang = 7; // 回旋镖
  WeaponType_Max = 5; // 武器类型-最大值
}

// 武器-备选
enum WeaponBackup {
  WeaponBackup_Unknow = 0; // 未知
  WeaponBackup_MAX = 3; // 武器-备选-最大值
}

// 武器-切换
enum WeaponSwitchType {
  WeaponSwitchType_Unknow = 0; // 未知
  WeaponSwitchType_Unarmed_To_Unarmed = 1; // 空手->空手
  WeaponSwitchType_Unarmed_To_Weapon = 2; // 空手->武器
  WeaponSwitchType_Weapon_To_Unarmed = 3; // 武器->空手
  WeaponSwitchType_Weapon_To_Weapon = 4; // 武器->武器
}

// 武器-记录
message WeaponRecord {
  uint64 UUID = 1; // 唯一ID
  map<uint32, uint64> RecordBaseMap = 10; // 资产表 key: WeaponAssetIDRecord value: 数值
  map<uint64, RecordPrimary> RecordMap = 1000; // 记录表 key: WeaponRecordPrimary
}

// 武器-资产-ID-记录
enum WeaponAssetIDRecordBase {
  WeaponAssetIDRecordBase_Unknow = 0; // 未知

  WeaponAssetIDRecordBase_DamagePercent = 10000; // 伤害百分比(0,100]
  WeaponAssetIDRecordBase_CritRate = 10001; // 暴击概率 范围(0,100]
  WeaponAssetIDRecordBase_CritDamageBonusRate = 10002; // 暴击伤害加成倍数 范围(0,100]
}

enum WeaponRecordPrimary {
  WeaponRecordPrimary_Unknow = 0; // 未知
  WeaponRecordPrimary_Slot = 1; // 孔
}

enum WeaponRecordSecondary {
  WeaponRecordSecondary_Unknow = 0; // 未知
  WeaponRecordSecondary_Slot_Data = 1; // 孔数据
}

// 武器-装备数据
message WeaponEquippedData {
  repeated uint64 LeftHandBackupWeaponUUIDList = 1; // 左手备选武器UUID列表 [固定数值 WeaponEquipSlot_MAX]
  repeated uint64 RightHandBackupWeaponUUIDList = 2; // 右手备选武器UUID列表 [固定数值 WeaponEquipSlot_MAX]
  uint64  LeftHandWeaponUUID = 3; // 左手武器UUID [0表示空手] [是 LeftHandBackupWeaponUUIDList 中的一个]
  uint64  RightHandWeaponUUID = 4; // 右手武器UUID [0表示空手] [是 RightHandBackupWeaponUUIDList 中的一个]
  uint32 DualWield = 5; // 双持 [ 0: 未双持, 1: 双持-左手武器, 2: 双持-右手武器 ]
}