syntax="proto3";

package pb;

option go_package = "saClient/proto";

import "Record.proto";
import "Pet.proto";
import "Weapon.proto";
import "Armor.proto";

////////////////////////////////////////////////////////////
// 用户 Player
////////////////////////////////////////////////////////////
// 用户-记录
message PlayerRecord {
  uint64 UUID = 1; // UUID 标记已使用的唯一ID
  map<uint64, CharacterRecord> CharacterRecordMap = 10; // 角色记录表 key: 角色UUID
}

////////////////////////////////////////////////////////////
// 角色 Character
////////////////////////////////////////////////////////////
// 角色-等级范围
enum CharacterLevelRange {
  CharacterLevelRange_Unknow = 0; // 未知参数

  CharacterLevelRange_Min = 1; // 最小等级
  CharacterLevelRange_Max = 140; // 最大等级
}

// 角色-动作
enum CharacterActionType {
  CharacterActionType_Sit = 0; // 坐下
  CharacterActionType_Stand = 1; // 站立
  CharacterActionType_Wave = 2; // 挥手
  CharacterActionType_Walk = 3; // 走动
  CharacterActionType_Nod = 4; // 点头
  CharacterActionType_Faint = 5; // 晕倒
  CharacterActionType_Happy = 6; // 高兴
  CharacterActionType_Attack = 7; // 攻击
  CharacterActionType_Angry = 8; // 生气
  CharacterActionType_Defense = 9; // 防御
  CharacterActionType_Sad = 10; // 悲伤
  CharacterActionType_Hurt = 11; // 受伤
  CharacterActionType_Throw = 12; // 投掷
  CharacterActionType_Max = 13; // 动作最大值
}

// 角色-记录
message CharacterRecord {
  uint64 UUID = 1; // 角色UUID 每个用户的角色唯一ID
  string Nick = 2; // 昵称
  map<uint32, uint64> RecordBaseMap = 10; // 资产表 key: CharacterAssetIDRecordBase value: 数值
  WeaponEquippedData WeaponEquippedData = 11; // 装备数据-武器
  ArmorEquippedData ArmorEquippedData = 20; // 装备数据-护甲

  map<uint64, RecordPrimary> RecordMap = 1000; // 记录表 key: CharacterRecordPrimary
  map<uint64, PetRecord> PetRecordMap = 2000; // 记录表-宠物 key: 宠物UUID
  map<uint64, WeaponRecord> WeaponRecordMap = 3000; // 记录表-武器 key: 武器UUID
  map<uint64, ArmorRecord> ArmorRecordMap = 4000; // 记录表-护甲 key: 护甲UUID
}

// 角色-资产-ID-记录 [1001,2000]
enum CharacterAssetIDRecordBase {
  CharacterAssetIDRecordBase_Unknow = 0; // 未知

  CharacterAssetIDRecordBase_Pose = 1001; // 姿势 CharacterAction
  CharacterAssetIDRecordBase_LastLoginTimestamp = 1002; // 上次登录时间戳
  CharacterAssetIDRecordBase_LastLogoutTimestamp = 1003; // 上次登出时间戳
  CharacterAssetIDRecordBase_AvailablePoint = 1004; // 可用点数 - 出生/升级/转生 后获得的可用点数

  CharacterAssetIDRecordBase_AttributesStrength = 1101; // 腕力 (1HP, 1攻, 0.1防) [主要提升攻击力，HP 提升较少]
  CharacterAssetIDRecordBase_AttributesEndurance = 1102; // 耐力 (1HP, 0.1攻, 1防) [主要提升防御力，HP 提升较少]
  CharacterAssetIDRecordBase_AttributesAgility = 1103; // 敏捷 (1HP, 1敏捷, 0.05攻, 0.05防) [主要提升敏捷，HP 提升较少]
  CharacterAssetIDRecordBase_AttributesStamina = 1104; // 体力 (4HP, 0.1攻击, 0.1防御) [对 HP 提升最大，是 "血牛" 角色首选]
}

enum CharacterRecordPrimary {
  CharacterRecordPrimary_Unknow = 0; // 未知
  CharacterRecordPrimary_Weapon = 1000; // 武器
}

enum CharacterRecordSecondary {
  CharacterRecordSecondary_Unknow = 0; // 未知
}
